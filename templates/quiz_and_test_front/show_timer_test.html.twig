

<div id="clockdiv">
    <div>
        <span id="hours"></span>
        <div class="smalltext">Heures</div>
    </div>
    <div>
        <span id="minutes"></span>
        <div class="smalltext">Minutes</div>
    </div>
    <div>
        <span id="seconds"></span>
        <div class="smalltext">Seconds</div>
    </div>
</div>
<script>
    var duree = {{ test.duree }} ;
    var timeleft = /*30000 ;*/ (duree * 60 * 1000);

    var myfunc = setInterval(function() {

        var hours = Math.floor((timeleft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        var minutes = Math.floor((timeleft % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((timeleft % (1000 * 60)) / 1000);

        document.getElementById("hours").innerHTML = hours +"";
        document.getElementById("minutes").innerHTML = minutes + " " ;
        document.getElementById("seconds").innerHTML = seconds + " ";

        timeleft = (timeleft - 1000) ;

        if(timeleft == 300000 ){
            alert("le devoir se termine dans 5 mins") ;
        }

         if (timeleft < 0) {
             document.getElementById("myForm").submit();
             clearInterval(myfunc);
         }
    }, 1000);

    function  validerTest()
    {
        var isChecked = true ;
        {% for question in test.questions %}
        //  var inputId = {{ question.designation }}
        var getSelectedValue = document.querySelector('input[name="{{ question.designation }}"]:checked');

        if(getSelectedValue == null) {
            isChecked = false ;
        }

        {% endfor %}

        if(!isChecked)
        {
            document.getElementById("error").innerHTML = "*veuillez tout crocher";
        }
        else{
            document.getElementById("myForm").submit() ;
        }
    }
</script>

